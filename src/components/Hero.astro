---
import Translate from './Translate.astro';
import WebsiteCarousel from './WebsiteCarousel.astro';

interface Props {
  lang?: "es" | "en";
}

const { lang = "es" } = Astro.props;
---

<section class="py-20 relative overflow-hidden">
  <!-- Glow effects -->
  <div class="glow glow-1"></div>
  <div class="glow glow-2"></div>

  <div class="container relative">
    <div class="max-w-3xl mx-auto text-center">
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6" data-sr data-sr-delay="0">
        <Translate key="hero.title" />
      </h1>
      <p class="text-text-muted text-lg mb-8" data-sr data-sr-delay="200">
        <Translate key="hero.subtitle" />
      </p>
      <!-- Enhanced social proof badges -->
      <div class="flex flex-wrap justify-center gap-4 mb-8" data-sr data-sr-delay="300">
        {lang === "es" ? (
          <>
            <div class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold">
              ‚≠ê 50+ empresas Barcelona conf√≠an en m√≠
            </div>
            <div class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold">
              üìà +140% leads promedio clientes
            </div>
            <div class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-semibold">
              ‚ö° Solo 2 proyectos disponibles este mes
            </div>
          </>
        ) : (
          <>
            <div class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold">
              ‚≠ê 50+ Barcelona companies trust me
            </div>
            <div class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold">
              üìà +140% average client leads
            </div>
            <div class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-semibold">
              ‚ö° Only 2 projects available this month
            </div>
          </>
        )}
      </div>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center" data-sr data-sr-delay="400">
        <a href="#leadMagnetForm" class="btn-primary relative overflow-hidden group" onclick="document.getElementById('leadMagnetForm').scrollIntoView({ behavior: 'smooth' }); if(typeof window.trackCTAClick === 'function') { window.trackCTAClick('Hero CTA - Lead Magnet'); }">
          <span class="relative z-10"><Translate key="hero.ctaPrimary" /></span>
          <div class="absolute inset-0 bg-gradient-to-r from-green-400 to-green-600 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left"></div>
        </a>
        <a href="#servicios" class="btn-secondary" onclick="if(typeof window.trackCTAClick === 'function') { window.trackCTAClick('Hero CTA - Explore Services'); }">
          <Translate key="hero.services" />
        </a>
      </div>
      
      <!-- Local SEO Text for Barcelona -->
      <div class="mt-8 text-center max-w-2xl mx-auto">
        <p class="text-sm text-text-muted leading-relaxed">
          <Translate key="hero.localSEO" />
        </p>
      </div>
    </div>

    <div class="mt-16 relative">
      <div class="aspect-video rounded-lg overflow-hidden bg-secondary relative" data-sr data-sr-delay="600" data-sr-duration="1200">
        <!-- Glow effect behind the carousel -->
        <div class="absolute inset-0 bg-gradient-to-br from-accent/20 via-accent/10 to-transparent blur-2xl opacity-50"></div>
        <div class="absolute inset-0 bg-gradient-to-tr from-accent/20 via-accent/10 to-transparent blur-2xl opacity-50"></div>
        
        <!-- Website Examples Carousel -->
        <div class="w-full h-full relative z-10">
          <WebsiteCarousel lang={lang} />
        </div>
      </div>
    </div>
  </div>

  <!-- Background gradient effect -->
  <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[120%] h-full 
              bg-gradient-to-b from-accent/10 via-primary/5 to-transparent
              pointer-events-none blur-3xl opacity-50">
  </div>
</section>

<style>
  .text-text-muted {
    color: var(--color-text-muted);
  }
  
  .bg-secondary {
    background-color: var(--color-secondary);
  }
  
  .from-accent\/10 {
    --tw-gradient-from: rgb(59 130 246 / 0.1);
  }
  
  .via-primary\/5 {
    --tw-gradient-via: rgb(15 23 42 / 0.05);
  }

  h1 {
    font-weight: 800;
  }

  /* Glow effect for the hero image */
  .aspect-video {
    box-shadow: 0 0 40px rgba(59, 130, 246, 0.1);
  }

  [data-theme="light"] .aspect-video {
    box-shadow: 0 0 40px rgba(59, 130, 246, 0.15);
  }

  [data-theme="dark"] .aspect-video {
    box-shadow: 0 0 40px rgba(59, 130, 246, 0.2);
  }
</style> 